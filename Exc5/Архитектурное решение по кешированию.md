# Мотивация
Добавление кеширования обеспечит решение проблемы низкой скорости работы страницы MES, с которой работают операторы.
Низкая скорость загрузки первой страницы MES приводит к замедлению скорости обработки заказов и жалобам клиентов.

# Предлагаемое решение
Т.к. скорость работы первой страницы MES список заказов из базы данных MES, то для ускорения загрузки необходимо добавить кеш Redis между MES API и MES DB.
Предлагается паттерны кеширования: Cache-Aside + Write-Through.

Паттерн Cache-Aside оптимизирует чтение данных, простая реализация и устойчивость к сбоям, проблема несогласованности данных решается стратегией инвалидации кэша.
Паттерн Read-Through не подходит из-за чувствительности к ошибкам, что недопустимо при работе с заказами.
Паттерн Refresh-ahead данный паттерн может привести к неконсистентности данных а так же к ошибкам при обновлении кэша, что недопустимо при работе с заказами.
Паттерн Write-Through обновляет записи данных синхронно, минус только в скорости, но данные всегда консистентны, подходит для работы с заказами.
Паттерн Write-Behind обновляет записи данных асинхронно, это может привести к неконсистентности данных, что недопустимо при работе с заказами.

Для ускорения загрузки статических данных, необходимо добавить HTTP заголовки для кеширования загруженных статических файлов (клиентское кеширование) - это позволит ускорить работу старницы MES за счёт исключения повторных загрузок не изменившихся файлов.

Sequence diagrams:
![alt text](./sequence%20diagram.png)

Выбранные стратегии инвалидации кеша:
- программная инвалидация, предлагается основываясь на логике фильтрации (команда уже сделала фильтрацию по статусам и пагинацию на первой странице MES), например кэшировать только не завершенные заказы;
- инвалидация по ключу, позволяет инвалидировать заказы по их статусу, завершенные заказы удаляются из кэша.
